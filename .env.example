# =============================================================================
# moxbox - Centralized Environment Configuration
# =============================================================================
# This is the SINGLE source of truth for all environment variables.
# The run-alpine.sh script reads this file and generates backend/.env and
# frontend/.env automatically on each run.
#
# Usage:
#   1. Copy this file to .env:  cp .env.example .env
#   2. Edit values as needed (passwords, secrets, etc.)
#   3. Run: ./run-alpine.sh
#
# The script will auto-detect all network IPs and update FRONTEND_URLS
# on every run, so you don't need to manually set IP addresses.
# =============================================================================

# -----------------------------------------------------------------------------
# Server Ports (defaults work for most setups)
# -----------------------------------------------------------------------------
BACKEND_PORT=4200
FRONTEND_PORT=5173

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Comma-separated list of allowed frontend origins for CORS.
# AUTO-GENERATED by run-alpine.sh on each run based on detected IPs.
# You can add custom origins here (e.g., your domain) and they will be merged.
# Example: http://localhost:5173,http://10.10.4.208:5173,http://mydomain.com
FRONTEND_URLS=http://localhost:5173

# Development helpers
# If true, the backend allows all origins (useful for fast local testing)
ALLOW_ALL_ORIGINS=false

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
ADMIN_USERNAME=admin
# ADMIN_PASSWORD_HASH is generated by the setup script from your password.
# Do not edit manually unless you know how to generate bcrypt hashes.
ADMIN_PASSWORD_HASH=

# JWT secret for signing tokens. Auto-generated if empty.
JWT_SECRET=

# -----------------------------------------------------------------------------
# File Storage
# -----------------------------------------------------------------------------
# Directory where uploaded files are stored (relative to backend/)
FILES_DIR=./files

# Database path (relative to backend/)
DATABASE_PATH=./db.sqlite

# -----------------------------------------------------------------------------
# Upload Limits & Security
# -----------------------------------------------------------------------------
# Maximum file size for uploads. Supports: "1gb", "500MB", "100kb", "1024" (bytes)
UPLOAD_MAX_FILE_SIZE=1gb

# Comma-separated list of MIME types to block from upload
UPLOAD_DISALLOWED_MIME_TYPES=text/html,application/javascript,text/javascript,application/x-msdownload,application/x-msdos-program,application/x-sh,application/x-bash,application/x-php
